import{c as y,h as q,a as W}from"./dom.1c141471.js";import{c as s,h as i,g as C,r as D,a5 as $,M as J,_ as F,s as _,E,F as v,t as B,u,J as z,v as c,G as g,a6 as U,a7 as K,a8 as G,H as b,a9 as X}from"./index.a009a3fb.js";import{l as S,m as x,a as Z,n as ee,Q as te,i as ae,j as V,k as j}from"./QSelect.b88ace0d.js";import{c as oe,d as ne,b as re}from"./Ripple.67e3cdbd.js";import{u as se,a as le,Q as I}from"./QBtn.7c962334.js";import"./scroll.ddaddb90.js";var P=y({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const a=s(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>i(e.tag,{class:a.value},q(t.default))}}),R=y({name:"QCard",props:{...S,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:a}}=C(),l=x(e,a),r=s(()=>"q-card"+(l.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>i(e.tag,{class:r.value},q(t.default))}});function ie(e,t){const a=D(null),l=s(()=>e.disable===!0?null:i("span",{ref:a,class:"no-outline",tabindex:-1}));function r(d){const o=t.value;d!==void 0&&d.type.indexOf("key")===0?o!==null&&document.activeElement!==o&&o.contains(document.activeElement)===!0&&o.focus():a.value!==null&&(d===void 0||o!==null&&o.contains(d.target)===!0)&&a.value.focus()}return{refocusTargetEl:l,refocusTarget:r}}var ue={xs:30,sm:35,md:40,lg:50,xl:60};const ce=i("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[i("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),i("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var de=y({name:"QRadio",props:{...S,...oe,...Z,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:a}){const{proxy:l}=C(),r=x(e,l.$q),d=ne(e,ue),o=D(null),{refocusTargetEl:f,refocusTarget:h}=ie(e,o),m=s(()=>$(e.modelValue)===$(e.val)),k=s(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(r.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),O=s(()=>{const n=e.color!==void 0&&(e.keepColor===!0||m.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${m.value===!0?"truthy":"falsy"}${n}`}),A=s(()=>(m.value===!0?e.checkedIcon:e.uncheckedIcon)||null),H=s(()=>e.disable===!0?-1:e.tabindex||0),L=s(()=>{const n={type:"radio"};return e.name!==void 0&&Object.assign(n,{".checked":m.value===!0,"^checked":m.value===!0?"checked":void 0,name:e.name,value:e.val}),n}),N=ee(L);function p(n){n!==void 0&&(J(n),h(n)),e.disable!==!0&&m.value!==!0&&a("update:modelValue",e.val,n)}function Y(n){(n.keyCode===13||n.keyCode===32)&&J(n)}function M(n){(n.keyCode===13||n.keyCode===32)&&p(n)}return Object.assign(l,{set:p}),()=>{const n=A.value!==null?[i("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[i(re,{class:"q-radio__icon",name:A.value})])]:[ce];e.disable!==!0&&N(n,"unshift"," q-radio__native q-ma-none q-pa-none");const w=[i("div",{class:O.value,style:d.value,"aria-hidden":"true"},n)];f.value!==null&&w.push(f.value);const Q=e.label!==void 0?W(t.default,[e.label]):q(t.default);return Q!==void 0&&w.push(i("div",{class:"q-radio__label q-anchor--skip"},Q)),i("div",{ref:o,class:k.value,tabindex:H.value,role:"radio","aria-label":e.label,"aria-checked":m.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:p,onKeydown:Y,onKeyup:M},w)}}}),ve=y({name:"QList",props:{...S,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const a=C(),l=x(e,a.proxy.$q),r=s(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(l.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>i(e.tag,{class:r.value},q(t.default))}});const me={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},T={xs:2,sm:4,md:8,lg:16,xl:24};var he=y({name:"QSeparator",props:{...S,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=C(),a=x(e,t.proxy.$q),l=s(()=>e.vertical===!0?"vertical":"horizontal"),r=s(()=>` q-separator--${l.value}`),d=s(()=>e.inset!==!1?`${r.value}-${me[e.inset]}`:""),o=s(()=>`q-separator${r.value}${d.value}`+(e.color!==void 0?` bg-${e.color}`:"")+(a.value===!0?" q-separator--dark":"")),f=s(()=>{const h={};if(e.size!==void 0&&(h[e.vertical===!0?"width":"height"]=e.size),e.spaced!==!1){const m=e.spaced===!0?`${T.md}px`:e.spaced in T?`${T[e.spaced]}px`:e.spaced,k=e.vertical===!0?["Left","Right"]:["Top","Bottom"];h[`margin${k[0]}`]=h[`margin${k[1]}`]=m}return h});return()=>i("hr",{class:o.value,style:f.value,"aria-orientation":l.value})}}),fe=y({name:"QCardActions",props:{...se,vertical:Boolean},setup(e,{slots:t}){const a=le(e),l=s(()=>`q-card__actions ${a.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>i("div",{class:l.value},q(t.default))}});const ge={data(){return{error:!1,saved:!1,user:null,id:null,jobTitles:[],selected:null,options:["title","jobs","employers","wage"],sort:"title"}},computed:{windowHeight(){return window.innerHeight},cardHeight(){return window.innerHeight>700?"height: calc(100vh - 450px);":"height: calc(100vh - 270px);"}},watch:{sort(){this.sortJobTitles(this.jobTitles)}},methods:{sortJobTitles(e){this.jobTitles=e.sort((t,a)=>{switch(this.sort){case"title":return t.JobTitle>a.JobTitle?1:t.JobTitle<a.JobTitle?-1:0;case"jobs":return t.JobCount<a.JobCount?1:t.JobCount>a.JobCount?-1:0;case"employers":return t.EmployerCount<a.EmployerCount?1:t.EmployerCount>a.EmployerCount?-1:0;case"wage":return t.AvgAnnualWage<a.AvgAnnualWage?1:t.AvgAnnualWage>a.AvgAnnualWage?-1:0}})},async saveChoice(){const e={email:this.user,SchoolID:this.id,JobTitle:this.selected,CreatorEmail:"saunderstamara7@gmail.com"};await fetch("http://<YOUR_PROD_IP>/api/survey",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then(()=>{this.saved=!0,this.$q.notify({message:"Your choice has been recorded. Thank you!",color:"positive"})})}},mounted(){typeof this.$route.query.user!="undefined"&&typeof this.$route.query.id!="undefined"&&(this.user=this.$route.query.user,this.id=this.$route.query.id,fetch("http://<YOUR_PROD_IP>/api/joblist").then(e=>e.json()).then(e=>{this.sortJobTitles(e)}))}},be=v("h3",{class:"gt-sm text-center q-my-md"},"Pick your favorite job",-1),ye=v("h5",{class:"lt-md text-center q-my-md"},"Pick your favorite job",-1),_e={class:"row"},qe={class:"col-8",style:{margin:"auto"}},ke=v("p",null,[v("span",{class:"text-bold"},"Your privacy:"),b(" This is an anonymous poll. Your name will not be visible to others. You can change your choice at any time.")],-1),Ce=v("p",{class:"q-mb-none"},[v("span",{class:"text-bold"},"SAVE your choice: "),b("Scroll through the list. Make a selection, then save your choice.")],-1),Se={class:"q-py-md"};function xe(e,t,a,l,r,d){return _(),E("div",null,[be,ye,v("div",_e,[v("div",qe,[d.windowHeight>700?(_(),B(R,{key:0},{default:u(()=>[c(P,null,{default:u(()=>[v("p",null,"Below is the list of "+g(r.jobTitles.length)+" in-demand jobs in New York City. Pick your favorite job.",1),ke,Ce]),_:1})]),_:1})):z("",!0),c(R,{class:"q-mt-sm"},{default:u(()=>[c(P,null,{default:u(()=>[v("div",Se,[c(te,{outlined:"",modelValue:r.sort,"onUpdate:modelValue":t[0]||(t[0]=o=>r.sort=o),options:r.options,label:"Sort"},null,8,["modelValue","options"])]),c(ve,{bordered:"",separator:"",style:U(d.cardHeight),class:"overflow-auto"},{default:u(()=>[(_(!0),E(K,null,G(r.jobTitles,(o,f)=>(_(),B(ae,{key:f},{default:u(()=>[c(V,{avatar:""},{default:u(()=>[c(de,{modelValue:r.selected,"onUpdate:modelValue":t[1]||(t[1]=h=>r.selected=h),val:o.JobTitle},null,8,["modelValue","val"])]),_:2},1024),c(V,null,{default:u(()=>[c(j,{class:"text-bold"},{default:u(()=>[b(g(o.JobTitle),1)]),_:2},1024),c(j,{lines:"4"},{default:u(()=>[b("Job Openings: "+g(o.JobCount)+" | Employers: "+g(o.EmployerCount)+" | Avg Annual Wage: $"+g(o.AvgAnnualWage.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"))+" | required education: ",1),v("span",{class:X(["text-bold",o.RequiredEducation==="mostly college"?"text-red":"text-blue"])},g(o.RequiredEducation),3)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["style"])]),_:1}),c(he,{dark:""}),c(fe,{align:"around"},{default:u(()=>[c(I,{color:"green",onClick:d.saveChoice},{default:u(()=>[b("Save your choice")]),_:1},8,["onClick"]),r.saved?(_(),B(I,{key:0,color:"blue",to:{name:"Results"}},{default:u(()=>[b("Show poll results")]),_:1})):z("",!0)]),_:1})]),_:1})])])])}var $e=F(ge,[["render",xe]]);export{$e as default};
